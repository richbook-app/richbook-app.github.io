
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Grit: the power of passion and perseverance | Angela Lee Duckworth | Mo Rahimi</title>
    
    <meta name="description" content="Leaving a high-flying job in consulting, Angela Lee Duckworth took a job teaching math to seventh graders in a New York public school. She quickly realized that IQ wasn&#x27;t the only thing separating the successful students from those who struggled. Here, she explains her theory of Grit as a predictor of success.">

    <meta name="author" content="" />
    <title>Grayscale - Start Bootstrap Theme</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"
            crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round"
          rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet" />

    <link rel="stylesheet" href="https://cdn.vidstack.io/player/theme.css" />
    <link rel="stylesheet" href="https://cdn.vidstack.io/player/video.css" />

    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css"
          rel="stylesheet" />
    <style>
        body {
            padding-top: 56px;
        }
    </style>
</head>
<body>
    <svg b-3agf2iwpo4 xmlns="http://www.w3.org/2000/svg" class="d-none">
        <symbol b-3agf2iwpo4 id="check2" viewBox="0 0 16 16">
            <path b-3agf2iwpo4 d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
        </symbol>
        <symbol b-3agf2iwpo4 id="circle-half" viewBox="0 0 16 16">
            <path b-3agf2iwpo4 d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
        </symbol>
        <symbol b-3agf2iwpo4 id="moon-stars-fill" viewBox="0 0 16 16">
            <path b-3agf2iwpo4 d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
            <path b-3agf2iwpo4 d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
        </symbol>
        <symbol b-3agf2iwpo4 id="sun-fill" viewBox="0 0 16 16">
            <path b-3agf2iwpo4 d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
        </symbol>
    </svg>

    <div b-3agf2iwpo4 class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle">
        <button b-3agf2iwpo4 class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center"
                id="bd-theme"
                type="button"
                aria-expanded="false"
                data-bs-toggle="dropdown"
                aria-label="Toggle theme (auto)">
            <svg b-3agf2iwpo4 class="bi my-1 theme-icon-active" width="1em" height="1em"><use b-3agf2iwpo4 href="#circle-half"></use></svg>
            <span b-3agf2iwpo4 class="visually-hidden" id="bd-theme-text">Toggle theme</span>
        </button>
        <ul b-3agf2iwpo4 class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
            <li b-3agf2iwpo4>
                <button b-3agf2iwpo4 type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                    <svg b-3agf2iwpo4 class="bi me-2 opacity-50" width="1em" height="1em"><use b-3agf2iwpo4 href="#sun-fill"></use></svg>
                    Light
                    <svg b-3agf2iwpo4 class="bi ms-auto d-none" width="1em" height="1em"><use b-3agf2iwpo4 href="#check2"></use></svg>
                </button>
            </li>
            <li b-3agf2iwpo4>
                <button b-3agf2iwpo4 type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                    <svg b-3agf2iwpo4 class="bi me-2 opacity-50" width="1em" height="1em"><use b-3agf2iwpo4 href="#moon-stars-fill"></use></svg>
                    Dark
                    <svg b-3agf2iwpo4 class="bi ms-auto d-none" width="1em" height="1em"><use b-3agf2iwpo4 href="#check2"></use></svg>
                </button>
            </li>
            <li b-3agf2iwpo4>
                <button b-3agf2iwpo4 type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                    <svg b-3agf2iwpo4 class="bi me-2 opacity-50" width="1em" height="1em"><use b-3agf2iwpo4 href="#circle-half"></use></svg>
                    Auto
                    <svg b-3agf2iwpo4 class="bi ms-auto d-none" width="1em" height="1em"><use b-3agf2iwpo4 href="#check2"></use></svg>
                </button>
            </li>
        </ul>
    </div>


    <nav b-3agf2iwpo4 class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div b-3agf2iwpo4 class="container-fluid">
            <a b-3agf2iwpo4 class="navbar-brand" href="#">Parrot</a>
            <button b-3agf2iwpo4 class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span b-3agf2iwpo4 class="navbar-toggler-icon"></span>
            </button>
            <div b-3agf2iwpo4 class="collapse navbar-collapse" id="navbarCollapse">
                <ul b-3agf2iwpo4 class="navbar-nav me-auto mb-2 mb-md-0">
                    <li b-3agf2iwpo4 class="nav-item">
                        <a b-3agf2iwpo4 class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                </ul>
                <ul b-3agf2iwpo4 class="navbar-nav ms-auto">
                    <li b-3agf2iwpo4 class="nav-item dropdown">
                        <a b-3agf2iwpo4 class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Username
                        </a>
                        <ul b-3agf2iwpo4 class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li b-3agf2iwpo4><a b-3agf2iwpo4 class="dropdown-item" href="#">Profile</a></li>
                            <li b-3agf2iwpo4><hr b-3agf2iwpo4 class="dropdown-divider"></li>
                            <li b-3agf2iwpo4><a b-3agf2iwpo4 class="dropdown-item" href="#">Sign Out</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main b-3agf2iwpo4 class="container">
        <div b-3agf2iwpo4 class="bg-body-tertiary mt-3 p-3 rounded">
            <style rel="stylesheet">
    media-controls * {
        pointer-events: none !important;
    }

    media-player, .vds-blocker {
        pointer-events: none;
    }
</style>
<div class="row justify-content-center" x-data>
    <div class="col-lg-8 col-md-12">
        <div id="myModal"
             x-ref="repeatModal"
             class="modal"
             data-bs-backdrop="static"
             data-bs-keyboard="false"
             tabindex="-1"
             aria-labelledby="staticBackdropLabel"
             aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="d-grid gap-2">
                            <button @click="$store.myStore.startRecording()"
                                    class="btn btn-danger"
                                    type="button"
                                    x-text="$store.myStore.isRecording ? 'Stop' : 'Record'"></button>
                        </div>
                        <div id="text"
                             class="text-center"
                             x-text="$store.myStore.originalText"></div>
                        <div class="text-center" x-text="$store.myStore.timer"></div>
                        <div :class="{ 'd-none': $store.myStore.showShadowingResult==false }"
                             class="text-center">
                            <hr />
                            <label class="correctness_percentage"
                                   x-text="$store.myStore.matchPercentage"></label>
                            <label class="accepted_speech text-block text-success"
                                   :class="{ 'text-success': $store.myStore.isAccepted, 'text-danger': !$store.myStore.isAccepted }"
                                   x-text="$store.myStore.isAccepted ? '✓' : '🗙'"></label>
                            <label class="recognized_text text-center d-block text-success"
                                   :class="{ 'text-success': $store.myStore.isAccepted, 'text-danger': !$store.myStore.isAccepted }"
                                   x-text="$store.myStore.recognizedText"></label>
                        </div>
                    </div>
                    <div class="modal-footer text-center"
                         :class="{ 'd-none': $store.myStore.isRecording }">
                        <button @click="$store.myStore.continueShadowing()"
                                type="button"
                                :class="{ 'd-none': !$store.myStore.isAccepted }"
                                class="btn btn-primary">
                            Continue
                        </button>
                        <button @click="$store.myStore.repeatDialogue()"
                                type="button"
                                class="btn btn-secondary">
                            Repeat
                        </button>
                        <button @click="$store.myStore.pausePlaying()"
                                type="button"
                                class="pauseBtn btn btn-info">
                            Pause
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="ratio ratio-16x9">

            <div id="target"
                 x-ref="playerTarget"
                 x-init="initPlayer($refs.playerTarget)"></div>
        </div>
    </div>
    <div class="col-md-8 mt-2 text-center">
        <button @click="$store.myStore.startPlaying()"
                type="button"
                class="btn btn-primary"
                x-text="$store.myStore.currentPauseIndex > -1 ? 'Resume' : 'Start'">
            Resume
        </button>
    </div>
</div>





<script type="module">
    import {
        VidstackPlayer,
        VidstackPlayerLayout,
    } from "https://cdn.vidstack.io/player";

    window.player = await VidstackPlayer.create({
        target: "#target",
        title: "Sprite Fight",
        playsinline: true,
        src: "https://www.youtube.com/watch?v=H14bBuluwB8",
        posterLoad: "visible",
        poster: "https://img.youtube.com/vi/H14bBuluwB8/mqdefault.jpg",
        layout: new VidstackPlayerLayout({
            displayDuration: false,
        }),
    });

    window.myModal = new bootstrap.Modal(
        document.getElementById("myModal"),
        {
            keyboard: false,
        }
    );
</script>
<script>
    const tracks = [

            {
        start: 12.5,
        end: 14.5,
        transcript: "when I was 20 years old",
        translate: "وقتی بیست ساله بودم"
        },
        
            {
        start: 14.5,
        end: 18,
        transcript: "I left a very demanding job in management consulting",
        translate: "من یک شغل بسیار پرمشغله و چالش‌ برانگیز در زمینه مشاوره مدیریت را ترک کردم"
        },
        
            {
        start: 18,
        end: 22,
        transcript: "for a job that was even more demanding teaching!",
        translate: "برای یک شغل که حتی پرمشغله‌تر و چالش‌برانگیزتر بود: تدریس"
        },
        
            {
        start: 22,
        end: 25.5,
        transcript: "I went to teach seventh graders math",
        translate: "من برای تدریس ریاضی به دانش‌آموزان کلاس هفتم رفتم"
        },
        
            {
        start: 25.5,
        end: 27,
        transcript: "in the New York City public schools.",
        translate: "در مدارس دولتی شهر نیویورک"
        },
                    ]
    tracks.sort((a, b) => a.end - b.end);
    document.addEventListener("alpine:init", () => {
        const modal = window.myModal;
        const player = window.player;
        window.sr = new SpeechRecognizer();
        Alpine.store("myStore", {
            //playing, recording, recorded, stoped
            showShadowingResult: false,
            isPlaying: false,
            isRecording: false,
            timer: "",
            currentPauseIndex: -1,
            matchPercentage: "",
            recognizedText: "",
            originalText: "",
            isAccepted: "",
            continueShadowing: continueShadowing,
            startPlaying: startPlaying,
            startRecording: startRecording,
            initPlayer: initPlayer,
            repeatDialogue: repeatDialogue,
            pausePlaying: pausePlaying,
        });
    });

    function continueShadowing() {
        this.isRecording = false;
        this.showShadowingResult = false;
        this.isPlaying = true;
        myModal.hide();
        player.play();
    }
    function startPlaying() {
        player.play();
    }
    function pausePlaying() {
        this.isRecording = false;
        this.isPlaying = true;
        this.showShadowingResult = false;
        const previousPoint = tracks[this.currentPauseIndex];
        this.currentPauseIndex--;
        player.currentTime = previousPoint.start;
        myModal.hide();
    }
    function initPlayer(element) {
        var scope = Alpine.store("myStore");
        console.log(element);
        let mediaplayer = element.querySelector("media-player");
        disableAllEvents(mediaplayer);
        player.addEventListener("time-update", timeUpdateHandler);
        window.sr.on("start", onRecognitionStart);
        window.sr.on("end", onRecognitionEnd);
        window.sr.on("timerUpdate", onRecognitionTimeUpdated);
        configSpeechRecognizer(scope);
    }
    function onRecognitionStart() {
        var scope = Alpine.store("myStore");
        scope.isRecording = true;
    }
    function onRecognitionEnd(transcript) {
        var scope = Alpine.store("myStore");
        scope.isRecording = false;
        scope.showShadowingResult = true;
        const matchPercentage = textSimilarityPercentage(
            tracks[scope.currentPauseIndex].transcript,
            transcript
        );
        scope.timer = "";
        scope.matchPercentage = matchPercentage;
        scope.recognizedText = transcript;

        if (matchPercentage > 70) isAccepted = true;
        else isAccepted = false;
    }
    function onRecognitionTimeUpdated(remainingTime) {
        var scope = Alpine.store("myStore");
        scope.timer = remainingTime;
    }
    function startRecording() {
        this.isRecording = true;
        var track = tracks[this.currentPauseIndex];
        var dif = track.end - track.start;
        const additionalTime = 1;
        const speechTime = (Math.ceil(dif) + additionalTime) * 1000;
        window.sr.start(speechTime);
    }
    function configSpeechRecognizer(scope) {
        sr.on("start", () => {
            scope.isRecording = true;
        });
        sr.on("end", function (transcript) {
            const matchPercentage = textSimilarityPercentage(
                tracks[scope.currentPauseIndex].transcript,
                transcript
            );
            scope.timer = "";
            scope.matchPercentage = matchPercentage;
            scope.recognizedText = transcript;

            if (matchPercentage > 70) scope.isAccepted = true;
            else scope.isAccepted = false;
        });
        sr.on("timerUpdate", function (remainingTime) {
            scope.timer = remainingTime;
        });
    }
    function timeUpdateHandler(event) {
        var scope = Alpine.store("myStore");
        let modal = window.myModal;
        const currentTime = player.currentTime;

        if (
            scope.currentPauseIndex < tracks.length - 1 &&
            currentTime >= tracks[scope.currentPauseIndex + 1].end
        ) {
            scope.currentPauseIndex++;
            scope.isPlaying = false;
            scope.isAccepted = false;

            player.pause();
            scope.originalText = tracks[scope.currentPauseIndex].transcript;
            modal.show();
        }
    }
    function repeatDialogue() {
        if (this.currentPauseIndex >= 0) {
            this.isRecording = false;
            this.isPlaying = true;
            this.showShadowingResult = false;
            const previousPoint = tracks[this.currentPauseIndex];
            this.currentPauseIndex--;
            player.currentTime = previousPoint.start;
            myModal.hide();
            player.play();
            console.log(
                `Repeating from ${previousPoint.start} seconds. ${previousPoint.transcript}`
            );
        } else {
            console.log(state.currentPauseIndex);
            console.log("No previous pause point to repeat.");
        }
    }
</script>
        </div>
    </main>

    <!-- Bootstrap core JS-->
    <script src="/Blog/js/speech-recognition.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="/Blog/js/scripts.js"></script>
</body>
</html>


